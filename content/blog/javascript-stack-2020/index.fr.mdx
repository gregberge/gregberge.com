---
slug: 'javascript-stack-2020'
title: 'Stack JavaScript 2020'
date: '2020-01-01'
author: 'Greg Berg√©'
published: true
description: 'D√©marrer un projet JavaScript avec Node.js et React en 2020.'
categories:
  - 'javascript'
  - 'react'
  - 'node.js'
banner: './images/banner.jpg'
bannerCredit: 'Photo par [Ian Schneider](https://unsplash.com/@goian?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) sur [Unsplash](https://unsplash.com/s/photos/build?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)'
---

Cela va maintenant faire 10 ans que j‚Äôutilise le JavaScript au quotidien aussi bien c√¥t√© client que c√¥t√© serveur. Au fil des ann√©es j‚Äôai cr√©√© de nombreux projets qui m'ont permis d'exp√©rimenter et d'affiner ma stack technique de pr√©dilection. En ce d√©but d'ann√©e 2020, j'ai le sentiment que c'est le moment de la partager avec vous !

## Backend

### Base de donn√©es

#### PostgreSQL

![PostgreSQL Logo](./images/logos/postgresql.png)

[PostgreSQL](https://www.postgresql.org/) est une base solide, performante et r√©siliente. C'est une base relationnelle avec ses avantages : une structure et des contraintes. Elle est aussi flexible qu‚Äôune base NoSQL avec le type JSONb. A noter que PostgreSQL permet √©galement de faire de la recherche Full Text. Elle vous √©vitera d'installer un Elastic Search pour des cas simples. C‚Äôest pour moi la base de donn√©es de r√©f√©rence et je l‚Äôutilise dans tous mes projets.

#### Redis

![Redis Logo](./images/logos/redis.png)

[Redis](https://redis.io/) est une base de donn√©es clef / valeur tr√®s rapide, en effet par d√©faut elle utilise la RAM et n'√©crit pas sur le disque. Je m'en sers pour stocker les donn√©es volatiles : les sessions, le cache. Redis permet √©galement de faire du pub / sub et du lock, ce qui s'av√®re utile sur des projets distribu√©s.

### Manipulation des donn√©es

#### Knex.js

![Knex.js Logo](./images/logos/knex.png)

[Knex.js](http://knexjs.org/) est un SQL builder, il permet d‚Äô√©crire des requ√™tes avec une syntaxe objet. Cela peut para√Ætre superflu mais il est assez utile de pouvoir composer ses requ√®tes selon des param√®tres, dans les API notamment. Knex.js fonctionne parfaitement avec Postgres, m√™me les champs sp√©ciaux comme le JSONb sont support√©s. Les transactions sont aussi support√©es nativement. Son syst√®me de migrations et de seed est un alli√© pr√©cieux et permet un travail en √©quipe simplifi√©.

#### Objection.js

![Objection.js Logo](./images/logos/objection.png)

[Objection.js](https://vincit.github.io/objection.js/) est un ORM, il fonctionne avec [Knex.js](http://knexjs.org/) mais y ajoute une couche mod√®le. Les mod√®les sont valid√©s via JSON Schema, ce qui permet une description tr√®s pr√©cise des donn√©es attendus. Objection.js permet de mat√©rialiser les relations entre vos mod√®les et d'ajouter une couche m√©tier au plus proche de votre base de donn√©es. C'est un ORM s√ªr et fiable gr√¢ce notamment au fait qu'il soit bas√© sur Knex.js.

### Serveur web

#### Express

![Express Logo](./images/logos/express.png)

[Express](https://expressjs.com/) est le micro-framework web de r√©f√©rence pour Node.js. Il permet de structurer son serveur HTTP de mani√®re intuitive. J'utilise Express pour organiser mon application HTTP, la compartimenter, g√©rer CORS, les redirections, etc... C'est un peu le chef d'orchestre de mon application c√¥t√© serveur. A not√© que je privil√©gie un serveur Express plut√¥t que des micro-services, cela permet de d√©marrer un projet plus rapidement et simplement.

### Authentification

#### passport

![Passport Logo](./images/logos/passport.png)

[Passport](http://www.passportjs.org/) est un middleware express permettant de g√©rer l'authentification. Sa particularit√© c'est de supporter de nombreux services : GitHub, Google, Facebook. Il supporte √©galement l'authentification local, via cookie, un classique. C'est un alli√© pr√©cieux pour gagner du temps notamment si on doit supporter plusieurs services tierces.

### Configuration

#### node-convict

![Mozilla Logo](./images/logos/mozilla.png)

Cr√©√© par Mozilla, [node-convict](https://github.com/mozilla/node-convict) permet de d√©finir une configuration structur√©e. Cela permet de voir clairement ce qui fait partie de votre configuration. Les valeurs peuvent √™tre lus depuis un fichier et surcharg√© via des variables d'environnement. C'est une petite librairie, mais √ßa permet d'avoir une configuration propre et claire.

### API

#### GraphQL

![GraphQL Logo](./images/logos/graphql.png)

[GraphQL](https://graphql.org/) est une langage qui permet d‚Äôexprimer des API sous forme de graph. L‚Äôavantage de GraphQL c‚Äôest sa simplicit√© et son evolutivit√©. A l‚Äôinstar de REST ou les endpoints se multiplient, GraphQL permet de consolider un sch√©ma. Lorsque vous faite une optimisation, elle profite √† toute l'application. Au niveau documentation, l'introspection permet de savoir exactement ce qui est disponible. J'expose en g√©n√©ral mon sch√©ma gr√¢ce √† [Apollo Server](https://www.apollographql.com/docs/apollo-server/). GraphQL est vraiment au coeur de ma stack, c'est lui qui assure la communication entre le client et le serveur.

## Front-end

### Frameworks

#### Next.js

![Next.js Logo](./images/logos/next.png)

[Next.js](https://nextjs.org/) est un framework React qui permet de cr√©er des applications SSR ou statiques. J'utilise Next.js pour gagner du temps. Il masque une grosse complexit√© li√© au SSR, cela permet d'√™tre concentr√© sur le d√©veloppement sans √™tre distrait. Next.js optimise votre application de mani√®re incroyable, notamment avec l'optimisation statique automatique. Next.js est une couche relativement fine, assez facile de migrer sur une autre chose plus tard.

#### Gatsby

![Gatsby Logo](./images/logos/gatsby.png)

[Gatsby](https://www.gatsbyjs.com/) est un framework React qui permet de cr√©er des applications statiques. Gatsby est plus limit√© que Next, je l'utilise uniquement pour sites compl√®tement statique comme ce blog ou un site vitrine. Si votre site est dynamique, je vous conseille plut√¥t Next. Gatsby est assez rigide, tr√®s performant pour le statique, mais difficile √† scaler sur autre chose, vous l'aurez compris, mon pr√©f√©r√© c'est Next.js !

### UI / UX

#### xstyled

![xstyled Logo](./images/logos/xstyled.png)

[xstyled](https://xstyled.dev/) est une librairie qui permet de styliser une application de mani√®re consistente. En tant que cr√©ateur de xstyled, je vais essayer d'√™tre objectif. Apr√®s Prettier, c'est l'outil qui me fait gagner le plus du temps. Je l'utilise avec [styled-components](https://www.styled-components.com/) et c'est un bonheur. Les grilles de xstyled et ses utilitaires responsive permettent de cr√©er des interfaces l√©ch√©s en un temps record ! Sans parler du dark mode qui peut √™tre ajout√© en seulement quelques minutes... !

#### Reakit

![Reakit Logo](./images/logos/reakit.png)

[Reakit](https://reakit.io/) est une librairie UI pour React. La particularit√© de Reakit, c'est que les composants ne sont pas stylis√©s. Reakit est en quelque sorte le squelette de vos composants, il vous assure d'avoir une application totalement accessible. Il g√®re tout le bas niveau complexe pour des composants tels que les tabs ou les dialogs.

#### Smooth UI

![Smooth UI Logo](./images/logos/smooth-ui.png)

[Smooth UI](https://smooth-ui.smooth-code.com/) est une librairie UI pour React. Elle r√©unie √† la fois [xstyled](https://xstyled.dev/) et [Reakit](https://reakit.io/) pour donner des composants pr√™t √† l'usage. Elle me fait gagner un temps pr√©cieux sur les projets ou le design n'est pas impos√©. C'est un peu mon Bootstrap √† moi !

## Outils

### Visual Studio Code

![Visual Studio Code Logo](./images/logos/vscode.png)

[VSCode](https://code.visualstudio.com/) est un √©diteur de code, optimis√© pour le JavaScript. VSCode est bien s√ªr incontournable ! Son support de TypeScript permet d'obtenir de l'auto-compl√©tion m√™me dans un projet JavaScript, c'est agr√©able. Il supporte toutes les fonctionnalit√©s que l'on attend d'un √©diteur : multi-curseurs, raccourcis, plugins... C'est l'√©diteur de r√©f√©rence pour coder en JavaScript.

### Prettier

![Prettier Logo](./images/logos/prettier.png)

[Prettier](https://prettier.io/) est un formatteur de code JavaScript. Alors comment vivre sans Prettier ? Avec lui, vous ne vous souciez plus de la mani√®re d'√©crire votre code. Il me fait gagner chaque jour un temps pr√©cieux, c'est vraiment une r√©volution pour moi et je ne m'en s√©pare jamais !

### ESLint

![ESLint Logo](./images/logos/eslint.png)

[ESLint](https://eslint.org/) est un linter de code JavaScript. C'est la premi√®re chose que j'installe sur un nouveau projet. Un bon linter vous fera gagner un temps pr√©cieux ! Il permet de d√©tecter les erreurs les plus communes et de garantir une qualit√© de code. J'utilise la configuration [eslint-config-smooth](https://github.com/smooth-code/eslint-config-smooth).

## H√©bergement

### Netlify

![Netlify Logo](./images/logos/netlify.png)

[Netlify](http://netlify.com/) est un h√©bergeur de sites statiques. Je l'utilise pour sa simplicit√© et ses performances. Il permet de lier un domaine facilement et les services tels que les "forms" sont appr√©ciables pour un site vitrine.

### Heroku

![Heroku Logo](./images/logos/heroku.png)

[Heroku](https://www.heroku.com/) est un h√©bergeur moderne pour Node.js et Ruby qui abstrait la partie devops. C'est vers Heroku que je m'oriente quand mon projet a besoin d'une base de donn√©es. L√† encore, la simplicit√© et l'abstraction qu'il propose sont des atouts certains lors du lancement d'un projet. C'est un bonheur de pouvoir ajouter PostgresSQL en un clic et d'avoir un d√©ploiement automatique √† chaque commit !

## Conclusion

Tous ces outils me permettent d'√™tre performant et de cr√©er des projets tr√®s rapidement ! Au fil du temps j'ai pu tester √©norm√©ment de solutions et celles-ci sont celles qui correspondent le mieux √† mes attentes.

Je vous souhaite une excellente ann√©e 2020 ! üéÜüéä
